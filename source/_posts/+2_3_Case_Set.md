---
layout: post
date: 2017/08/14
title: 软件开发警示案例集
tags:
    - Software Engineering
categories:
    - Reading
---

本书汇集了一些错误的开发行为并指正了应该的做法，这里将对其中一些做个人理解向的总结。

<!--more-->

# 软件开发警示案例集
> 书号：ISBN 7-900643-68-0

## 风格篇

+ 注释是为了让别人看懂你的代码，这可能需要你站在后来者的角度来揣摩自己的代码，能自解释当然是最好不过的，对于关键的逻辑关键步骤适当给出解释，对于一个函数/一个文件可以考虑给出概述性的描述，另外作者有提到说注释不是参考手册，可以不对语法问题做出解释，但是仍然处于初学者阶段的我认为，如果涉及到例如优先级等等一眼无法判断的语法，注释的作用还是很大的。
+ 形成一个利于沟通的风格（即变量命名规范/缩进规范等），关于变量命名我的做法是根据变量的类型来决定命名的方法，具体来讲，如果是常量则全部大写，普通变量全部小写，下划线间隔，如果是类型名则大写开头，函数名或者其他情况则向系统原生函数靠。为了方便理解，尽量少在变量作用域很大的是偶使用过泛导致的毫无意义的指代。
+ 任何编程语言的语法都可能被不正常的使用造成歧义，我们的目标是写出简洁，清晰，高效，易维护的代码，以此目标来指导我们解决包括合理使用语法在内任何编程问题。
+ 尽量保持编译器的默认选项，同时减少使用一些平台特异的数据类型。


## 编码篇

+ goto是jmp的延充，如果你确定使用goto是最佳或者唯一的解决方案，那尽量给出足够的注释。
+ assert()在发行版是会被定义为空的，因而在对外部参数的检查或者其他必要的操作的时候，不要使用。宏定义本质是字符替换，涉及到运算符号优先级的情况下最好手动加上括号。
+ 内存泄露说白了就是申请了内存但是没有释放最终导致内存不足，因而在申请内存以后，不仅要记得释放，也要记得在任何出口都全部释放。
+ 内存非法访问多半是变量未初始化/缓存区溢出等愿意造成的对不应该访问的内存的访问。一些良好的习惯比如使用外部指针前，先用assert()验证其有效性/给类的属性尾端增加固定值来检查是否溢出/在关键操作前检验全部属性是否合法无溢出。
+ 嵌套结构异常处理执行顺序比较重要，同时如果注意可能存在的内存问题（要记得释放内存）。
+ 成员变量用来定义比较简单的数据对象，方法用来实现功能操作，属性则用于定于某些功能操作密切相关的数据元素。
+ 尽量优化使用多次/耗时较高的部分代码，同时要具备一些操作系统知识迎合设计原理来优化。有些高明的算法是很实在的。
+ 多线程中关键区域（全局数据/共享资源/类的静态变量）记得使用同步机制。
+ 图形用户界面多线程把耗时操作放在后台。如无必要，不使用多线程。

## 版本管理

+ 无法知道哪个DLL是向后兼容的，使用SxS（XML格式的说明文件）的应用程序可以自动选择DLL版本。（不过对于DLL文件的组织形式已经什么是向后兼容的依然不明白）
+ 随着时间积累，版本交错会使人崩溃。不过有一些经验还是帮得上忙：保持唯一更新代码/复制代码等于复制错误/做好备份。
+ 开放式/独占式各有各的特点，我们的目标只是提高工作效率。

## 测试篇

+ 任何实际的软件中都包含错误（BUG），当单个软件的可靠性无法满足的时候，使用“命中概率”多部署几个实例。
+ 测试是为了发现软件中的错误，我们能做的不是去追求完美，而是用有限的投入做那些必须要做的事情。
+ 对基类（父类）的充分测试并不一定能保证子类就不会出现问题。
+ 好的测试是基于模型的，组合模型/状态机模型，验证状态的转换。/测试的本质是搜索，查找错误的位置。/最好自动化。

## 系统设计篇

+ 需求和规格说明是一个软件项目成败的关键/完善，严谨的规格说明是开发出合格软件的必要条件。
+ 用户界面的作用：引导用户在最短时间内顺利完成操作。不管用户的操作水平。
+ 面向对象设计要有足够的分析，并利用面向对象的特性。
+ 架构上简单，技术上易于实现。

## 后记

以上。